<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <link type="text/css" rel="stylesheet" href="./index.css"> -->
    <style>
        #resizable { width: 150px; height: 150px; padding: 0.5em; }
        #resizable h3 { text-align: center; margin: 0; }
        </style>
    <h1>Tests</h1>
    
    <input id="test1" class="form-control w-25 m-2" type="text" value="" />
    
    <div id="resizable" class="ui-widget-content">
        <h3 class="ui-widget-header">Resizable</h3>
    </div>

    <div id="dts" class="p-2">

    </div>

    <script>

        var test1 = document.getElementById('test1');
        //^
        var str = '/^-?\d*(\.\d+)?$/s'
        str.replace('.', ',');
        const regex = new RegExp(str);

        test1.addEventListener('focusout', e => {            
            var input = e.target;
            var val = input.value;
            var isValid = regex.test(val);
            if(isValid){
                input.value = val;
            }else{
                input.value = '';
            }
            /* var input = e.target;
            var val = input.value;
            input.value = val.replace(regex, ''); */
        })
    </script>

    <title>Document</title>
</head>
<body>
    <!-- script for Safari Browser -->
    <script src="//unpkg.com/@ungap/custom-elements/es.js"></script> 
    <script type="text/javascript" src="./dist/bundle.js"></script>
    <script>

        var container = document.querySelector('#dts');
        var config1 = new window.Framework.ConfigDataTable({
            rowNum: true,
            rows:[
                { id:'t1', text:'Test 1'},
                { id:'t2', text:'Test 2'},
                { id:'t3', text:'Test 3'},
            ],
            columns: [
                { title: 'Id', data: 'id' },
                { title: 'Text', data: 'text'},
            ],
        });

        var dt1 = new window.Framework.DataTable(config1);

        container.appendChild(dt1);

        var config2 = new window.Framework.ConfigDataTable({
            filter: true,
            headerText: 'DataTable Editable',
            rowNum: true,
            rowStatus: true,
            columnFilter: false,
            pagination: {
                length: 4,
            },
            buttons:[
                'add',
                'excel',
            ],
            rows:[
                { id:'t1', text:'Test 1', year: 2013, salary: 2000.56, select: '1', date: null },
                { id:'t2', text:'Test 2', year: 2014, salary: 3000.56, select: '2', liveSearch: { id:'1', text: '1 - Volkswagen' }, date: new Date() },
                { id:'t3', text:'Test 3', year: 2015, salary: 4000.56, select: '3', date: null, form: { text: 'test asd',  } },
                { id:'t4', text:'Test 4', year: 2016, salary: 5000.56, select: '2', liveSearch: { id:'1', text: '1 - Volkswagen' }, date: new Date() },
                { id:'t5', text:'Test 5', year: 2017, salary: 6000.56, select: '3', date: null, form: { text: 'test asd',  } },
                { id:'t6', text:'Test 6', year: 2018, salary: 7000.56, select: '2', liveSearch: { id:'1', text: '1 - Volkswagen' }, date: new Date() },
                { id:'t7', text:'Test 7', year: 2019, salary: 8000.56, select: '3', date: null, form: { text: 'test asd',  } },
                { id:'t8', text:'Test 8', year: 2020, salary: 9000.56, select: '2', liveSearch: { id:'1', text: '1 - Volkswagen' }, date: new Date() },
                { id:'t9', text:'Test 9', year: 2021, salary: 10000.56, select: '3', date: null, form: { text: 'test asd',  } },
                { id:'t10', text:'Test 10', year: 2022, salary: 11000.56, select: '3', date: null, form: { text: 'test asd',  } },
                { id:'t11', text:'Test 11', year: 2023, salary: 12000.56, select: '3', date: null, form: { text: 'test asd',  } },
                { id:'t12', text:'Test 12', year: 2024, salary: 13000.56, select: '3', date: null, form: { text: 'test asd',  } },
                { id:'t13', text:'Test 13', year: 2025, salary: 14000.56, select: '3', date: null, form: { text: 'test asd',  } },
                { id:'t14', text:'Test 14', year: 2026, salary: 15000.56, select: '3', date: null, form: { text: 'test asd',  } },
                { id:'t15', text:'Test 15', year: 2027, salary: 16000.56, select: '3', date: null, form: { text: 'test asd',  } },
                { id:'t16', text:'Test 16', year: 2028, salary: 17000.56, select: '3', date: null, form: { text: 'test asd',  } },
                { id:'t17', text:'Test 17', year: 2029, salary: 18000.56, select: '3', date: null, form: { text: 'test asd',  } },
                { id:'t18', text:'Test 28', year: 2030, salary: 19000.56, select: '3', date: null, form: { text: 'test asd',  } },
            ],
            columns: [
                { 
                    label: 'Id',
                    title: 'Id', 
                    name: 'id',
                    data: 'id', 
                    type:'text', 
                    disabled: true, 
                    hidden: false 
                },
                { 
                    label: 'Text',
                    title: 'Text', 
                    name: 'text',
                    data:'text', 
                    type:'text',  
                    disabled: false, 
                    hidden: false 
                },
                { 
                    label: 'Year',
                    title: 'Year', 
                    name: 'year',
                    data:'year', 
                    type:'number',  
                    disabled: false, 
                    hidden: false  
                },
                { 
                    label: 'Salary',
                    title: 'Salary', 
                    name: 'salary',
                    data:'salary', 
                    type:'number', 
                    disabled: false, 
                    hidden: false, 
                    decimals: 3, 
                    thousandSeparator: '.', 
                    decimalsSeparator: ',' 
                }, 
                { 
                    label: 'Select',
                    title: 'Select', 
                    name: 'select',
                    data:'select', 
                    type:'select', 
                    disabled: false, 
                    hidden: false,
                    editable: false,
                    className: '',
                    options: [
                        {id:'1', text:'Option 1'},
                        {id:'2', text:'Option 2'},
                        {id:'3', text:'Option 3'},
                    ],
                },
                { 
                    label: 'Live search',
                    title: 'Live search', 
                    name: 'liveSearch',
                    data: 'liveSearch', 
                    type:'livesearch', 
                    disabled: false, 
                    hidden: false, 
                },
                { 
                    label: 'Date',
                    title: 'Date', 
                    name: 'date',
                    data: 'date', 
                    type:'date', 
                    editable: false, 
                    disabled: false, 
                    hidden: false, 
                },
                { 
                    label: 'Form',
                    title: 'Form',
                    name: 'form', 
                    data: 'form', 
                    type:'form', 
                    editable: false, 
                    disabled: false, 
                    hidden: false, 
                    fields: [
                        {
                            label: 'Text',
                            title: 'Text',
                            placeholder: 'Text',
                            type: 'text',
                            name: 'text',
                            data: 'text',
                            required: false,
                            disabled: false,
                            hidden: false,
                            className: 'col-6 p-2',
                            maxLength: 10,
                        }
                    ],
                },
            ],
        });
        
        var dt2 = new window.Framework.DataTable(config2);

        container.appendChild(dt2);

    </script>
</body>
</html>
