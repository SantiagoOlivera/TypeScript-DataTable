<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <link type="text/css" rel="stylesheet" href="./index.css"> -->
    <style>
        #resizable { width: 150px; height: 150px; padding: 0.5em; }
        #resizable h3 { text-align: center; margin: 0; }
        </style>
    <h1>Tests</h1>
    
    <input id="test1" class="form-control w-25 m-2" type="text" value="" />
    
    <div id="resizable" class="ui-widget-content">
        <h3 class="ui-widget-header">Resizable</h3>
    </div>

    <div id="dts" class="p-2">

    </div>

    <script>

        var test1 = document.getElementById('test1');
        //^
        var str = '/^-?\d*(\.\d+)?$/s'
        str.replace('.', ',');
        const regex = new RegExp(str);

        test1.addEventListener('focusout', e => {            
            var input = e.target;
            var val = input.value;
            var isValid = regex.test(val);
            if(isValid){
                input.value = val;
            }else{
                input.value = '';
            }
            /* var input = e.target;
            var val = input.value;
            input.value = val.replace(regex, ''); */
        })
    </script>

    <title>Document</title>
</head>
<body>
    <!-- script for Safari Browser -->
    <script src="//unpkg.com/@ungap/custom-elements/es.js"></script> 
    <script type="text/javascript" src="./dist/bundle.js"></script>
    <script>

        var container = document.querySelector('#dts');
        var config1 = new window.DataTable.ConfigDataTableReadOnly({
            rowNum: true,
            rows:[
                { id:'t1', text:'Test 1'},
                { id:'t2', text:'Test 2'},
                { id:'t3', text:'Test 3'},
            ],
            columns: [
                { title: 'Id', data: 'id' },
                { title: 'Text', data: 'text'},
            ],
        });

        var dt1 = new window.DataTable.DataTableReadOnly(config1);

        container.appendChild(dt1);

        var config2 = new window.DataTable.ConfigDataTableEditable({
            filter: true,
            headerText: 'DataTable Editable',
            rowNum: true,
            rowStatus: true,
            columnFilter: false,
            buttons:[
                'add',
                'modify',
                'remove',
            ],
            rows:[
                { id:'t1', text:'Test 1', year: 2023, salary: 3000.56, select: '1', date: null },
                { id:'t2', text:'Test 2', year: 2023, salary: 3000.56, select: '2', liveSearch: { id:'1', text: '1 - Volkswagen' }, date: new Date() },
                { id:'t3', text:'Test 3', year: 2023, salary: 3000.56, select: '3', date: null },
            ],
            columns: [
                { title: 'Id', data: 'id', type:'text', disabled: true, hidden: false },
                { title: 'Text', data:'text', type:'text',  disabled: false, hidden: false },
                { title: 'Year', data:'year', type:'number',  disabled: false, hidden: false  },
                { title: 'Salary', data:'salary', type:'number', disabled: false, hidden: false, decimals: 3, thousandSeparator: '.', decimalsSeparator: ',' }, 
                { 
                    title: 'Select', 
                    data:'select', 
                    type:'select', 
                    disabled: true, 
                    hidden: false,
                    editable: false,
                    options: [
                        {id:'1', text:'Option 1'},
                        {id:'2', text:'Option 2'},
                        {id:'3', text:'Option 3'},
                    ],
                },
                { title: 'Live search', data: 'liveSearch', type:'livesearch', disabled: false, hidden: false, },
                { title: 'Date', data: 'date', type:'date', editable: false, disabled: false, hidden: false, },
            ],
        });
        
        var dt2 = new window.DataTable.DataTableEditable(config2);

        container.appendChild(dt2);

    </script>
</body>
</html>
